<!DOCTYPE html>
<html dir="ltr" lang="en">

<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no" />
  <meta name="theme-color" media="(prefers-color-scheme: light)" content="#ffffff">
  <meta name="theme-color" media="(prefers-color-scheme: dark)" content="#000000">
  <meta name="mobile-web-app-capable" content="yes">
  <title>L-System Fractals</title>
  <link rel="manifest" href="./manifest.json">
  <link rel="icon" href="./favicon.ico" type="image/x-icon">
  <script async src="https://cdnjs.cloudflare.com/ajax/libs/marked/16.3.0/lib/marked.umd.js" integrity="sha512-p6CwIuqimImGywlprlZqDYTAteV+0lEZPYdGJ5wPDvFyYYcNIt6QvUTGy5FIMzlPdEQawgScbMW/MDTg7va+EQ=="
    crossorigin="anonymous" referrerpolicy="no-referrer"></script>
  <script>
    function getBase() { return window.location.pathname.replace(/\/*(index.html)?$/, "/"); }
    function setBase() {
      const base = document.createElement('base');
      base.href = getBase();
      document.head.insertBefore(base, document.head.firstChild);
    }
    setBase();
    window.addEventListener('load', e => window?.navigator?.serviceWorker?.register?.('./sw.js').catch(e => e));
  </script>
  <script>(()=>{var x={lsystemsvg:"lsystem.svg",placeholder:`Type here: S=S+F,_n=3 or click 'next'.
Reformat, tidy text: Ctrl+Enter or Triangle.
Shift/LongTap reverses '++', 'next', or alters fun.`,shorthelp:`_n Number of iterations, 0+
_m Line length multiplier, +
_a Angle in degrees, -0+
_l Initial line length width=1, +
_k Dot size, 0+
_j Dot blur, 0+
_o Stroke-opacity, 0..1
_cb Color background, #[0-9a-f]{3,8}
_cc Color line, #[0-9a-f]{3,8}
_cd Color dot, #[0-9a-f]{3,8}
_x _y, _w, _h: ViewBox, -0+
_z Padding, 0+
_hand turbulenceTBD, 1`,error:"error",copied:"copied",pngDefaultSize:3840,pngPrompt:"Larger size [px]? (max.safe: 16384)",untitled:"untitled",processing:"Processing...",nothingToExport:"Nothing to export"};async function mt(t="S=SF+SF-SF",e,n){t=typeof t=="string"?Object.fromEntries(t.replace(/&/g,",").replace(/([^,:=]*)[:=]([^,:=]*)/g,"$1=$2").split(",").map(F=>F.split("="))):t;let a=performance.now(),[i,r,d,p,y,c]=Array(9).fill(0),b="",E=1,m,W,g=Math.PI/2;t.S??="F",t._n=t._n|0,t._a=t._a?t._a==="q"?180*(3-Math.sqrt(5)):t._a:90,t._l??=9,t._m??=g;let f=(F,w)=>F==null||F===""?w:F,Y=[],N=t._a/90,tt=Object.fromEntries(Object.entries(t).filter(([F])=>F.endsWith("2")).map(([F,w])=>[F[0],w])),U=F=>+parseFloat(F).toPrecision(12),K=F=>t._l*Math.pow(t._m,y)*F(g*(d*N+p)),$=(F,w,...H)=>{F=document.createElementNS("http://www.w3.org/2000/svg",F);for(m in w)F.setAttribute(m,w[m]);return H?.map(O=>F.prepend(O)),F},s={},l=((F=1e-5,w=9*F)=>{let H=new Set,[O,ot]=At(i,r),G=`${O},${ot}`,vt,Z=1/0,et=-1/0,it=Z,ft=et,pt=Z,gt=et;function wt(S){return S.split(",").map(U).join(",")}function At(S,T){let D=1/0,j,V,R,P,at,rt,st,Lt=Math.floor(S/w),kt=Math.floor(T/w),Ft=Math.ceil(F/w);for(rt=-Ft;rt<=Ft;rt++)for(at=-Ft;at<=Ft;at++)if(V=s[`${Lt+at},${kt+rt}`],V)for(st=0;st<V.length;st++)R=V[st],P=Math.hypot(R[0]-S,R[1]-T),P<D&&(D=P,j=R),gt<P&&P<F&&(gt=P),F<P&&P<pt&&(pt=P);return D>=F&&(s[`${Lt},${kt}`]??=[]).push(j=[S,T]),j}return{stat:function(S=D=>D>=1e6?(D/1e6).toFixed(6):D,T=Object.values(s).reduce((D,j)=>D+j.length,0)){return{err:T-Object.keys(s).length,ms:+(performance.now()-a).toFixed(3),B:S(c),lg:Math.log(gt)|0,len:pt.toExponential(2),dot:S(T),line:S(H.size)}},vb:function(S){return[Z-S,it-S,et-Z+2*S,ft-it+2*S]},put:function(S,T,D){let j=At(S,T);[S,T]=j;let V=`${S},${T}`;if(D){let R=G<V?`${G},${V}`:`${V},${G}`;H.has(R)||(H.add(R),G!==vt&&(b+=`M${wt(G)}`),b+=` ${wt(vt=V)}`,Z=Math.min(S,O,Z),et=Math.max(S,O,et),it=Math.min(T,ot,it),ft=Math.max(T,ot,ft))}return G=V,O=S,ot=T,j}}})(),u=[0,1].map(F=>"id"+Math.random().toString(36).slice(2)),h,X=Array(2+t._n).fill(0),M=X.map(()=>[]),C=(F,w)=>{for(;;){if(X[F]<M[F].length)return M[F][X[F]++];if(!F||!(w=C(F-1)))return 0;M[F]=(tt&&F===t._n?tt:t)[w]??w,X[F]=0}};for(M[0]=t.S;(m=C(t._n))&&(++c,!(n&&c%1e4===0&&(h=await n(c))));)m==="F"||m==="f"?[i,r]=l.put(i+K(Math.cos),r+K(Math.sin),m==="F"):m==="+"?d+=E:m==="*"?y++:m==="|"?p=(p+0+2)%4:m==="-"?d-=E:m==="/"?y--:m==="^"?p=(p+E+4)%4:m==="!"?E=-E:m==="["?Y.push([i,r,d,p,y]):m==="]"&&Y.length&&([i,r,d,p,y]=Y.pop(),l.put(i,r));[i,r,d,p]=b.length?l.vb(f(t._z,2)).map(U):[0,0,0,0];let v=+f(t._j,0)*4+ +f(t._k,0);return e||=$("svg"),e.setAttribute("viewBox",`${f(t._x,i)} ${f(t._y,r)} ${f(t._w,d)} ${f(t._h,p)}`),e.setAttribute("stroke-opacity",`${f(t._o,1)}`),e.replaceChildren(t._min?"":(F=>(F.textContent=(h??"")+f(t[""],""),F))($("title")),t._min?"":(F=>(F.textContent=JSON.stringify({stat:l.stat(),R:t}),F))($("desc")),$("rect",{stroke:`${f(t._cb,"#fff")}`,fill:`${f(t._cb,"#fff")}`,x:i,y:r,width:d,height:p}),t._k?$("defs",0,$("marker",{id:u[0],markerWidth:2*v,markerHeight:2*v,viewBox:`${-v} ${-v} ${2*v} ${2*v}`},$("circle",{r:f(t._k,1),fill:f(t._cd,"#000"),style:t._j?`filter:blur(${t._j}px)`:""}))):"",t._hand?$("filter",{id:u[1],x:"-20%",y:"-20%",width:"140%",height:"140%",filterUnits:"objectBoundingBox",primitiveUnits:"userSpaceOnUse","color-interpolation-filters":"linearRGB"},$("feGaussianBlur",{stdDeviation:"0.15"}),$("feDisplacementMap",{in:"SourceGraphic",in2:"turbulence",scale:"6",xChannelSelector:"G",yChannelSelector:"A",result:"displacementMap"}),$("feTurbulence",{type:"turbulence",baseFrequency:"0.03 0.03",numOctaves:"3",seed:"1",stitchTiles:"noStitch",result:"turbulence"})):"",$("path",{stroke:f(t._cc,"#000"),"stroke-linecap":"round","stroke-linejoin":"round",fill:"none",...t._hand?{filter:`url(#${u[1]})`}:{},...t._k&&["start","mid","end"].reduce((F,w)=>(F["marker-"+w]=`url(#${u[0]})`,F),{}),d:b})),e}var _t=["=blurDemoPentagram,S=FX++FX++FX++FX++FX,X=[++++/F/F!X!*F],_a=36,_j=1,_k=1,_l=22,_m=1.6180339887498948,_n=5,_cc=#f004,_cd=#00f7","=TODO,_k=1,_o=0.5,_z=2,_cb=#7007,_cc=#0707,_cd=#0077","=KiteDart3,S=Wf+Xf+Wf+Xf+Wf+Xf+Wf+Xf+Wf+X,F=,W=[F][++*F][++f---/f|X-Y|f|W],X=[F+++*F][++/fZ|X|-f|W],Y=[+F][*F][+f/|Y+X],Z=[-F][*F][/f--Wf|+Z],_a=36,_k=4,_l=199,_m=1.6180339887498948,_n=5,_z=9,_hand=1","=Lizard,S=AX,A=[+AX-AX-AX]-AX+AX+AX-,F=,X=F+F+F+FFF-F-F-F,_l=2,_a=60,_n=5",{"":"AperiodicMirroredMonoTile-Spectre",S:"U+V+W+V+R",R:"V+R+U+V+W+V+R-W",U:"V+R+U+V+W+V+R-U+V+W+V+R+U-V",V:"W+V+R+U+V+W+V+R-W",W:"V+R+U+V+W+V+R-W+V+R+U+V+W-V",R2:"FF",U2:"F^F-F^F-F^F",V2:"F^^^F",W2:"F^F",_a:60,_l:6,_n:3},"=Hilbert,S=-!S!F+SFS+F!S!-,_a=90,_l=2,_n=4,_z=1.5","=Penrose,S=X,F=,W=YF++ZF----XF[-YF----WF]++,X=+YF--ZF[---WF--XF]+,Y=-WF++XF[+++YF++ZF]-,Z=--YF++++WF[+ZF++++XF]--XF,_a=36,_l=9,_n=5","=KiteDart1,S=+[/A]F/---[-S]F-F---[-S]*F[/|A],A=[/S]+F/[|A]----F+F----[A]*F,F=f,_a=36,_l=99,_m=1.6180339887498948,_n=5","=KiteDart2,S=[k]++[k]++[k]++[k]++[k],A=[/k]+F/[|A]----F+F----[A]*F,F=f,_a=36,_l=99,_m=1.6180339887498948,k=+[/A]F/---[-k]F-F---[-k]*F[/|A],_n=5","=try90,S=X,F=F+/f*-F,X=[X]F^[X]F^[X]F^[X]F^,_a=80,_l=9,_m=1.4142,_n=5","=tilesg5,S=AX,A=F+F-F,F=,X=[+AX-AX-AX]-AX+AX+AX-,_a=60,_l=6,_n=5","=tilesg6,S=AX,A=FfF,F=,X=[+AX-AX-AX]-AX+AX+AX-,_a=60,_l=6,f=,_n=5","=tilesg7,S=AX,A=++F--f++F--,B=++F--f++F--,C=++F--f++F--,D=++F--f++F--,E=++F--f++F--,F=,G=++F--f++F--,X=[+AX-BX-CX]-DX+EX+GX-,_a=60,_l=6,f=,_n=4","=tilesgHex,S=AX,A=F-F-F-F+F+F+F,F=,X=[+AX-AX-AX]-AX+AX+AX-,_a=60,_l=6,f=,_n=4","=Quartet,S=FB,A=FBFA+HFA+FB-FA,B=FB+FA-FB-JFBFA,F=,H=-,J=+,_a=90,_n=4","=Koch5,S=F-F-F-F,F=F-F+F+FFF-F-F+F,_a=90,_n=3","=QuadKoch,S=F-F-F-F-,F=F+FF-FF-F-F+F+FF-F-F+F+FF+FF-F,_a=90,_n=3","=Koch,S=F--F--F,F=F+F--F+F,_a=60,_l=2,_n=5","=tilesg4,S=X,F=F+f-F,X=[X]F+[X]F+[X]F+[X]F+[X]F+[X]F+,_a=60,_l=6,f=F,_n=5","=lars2,S=+[F]++[F]++[F]++F,F=F[+F][-F],_a=60,_n=6","=Vlinders1,S=f----f----f,_a=30,_l=160,_m=1.732,f=[F]/+f--f+*,_n=7","=Notsupported(*)Vlinders3,S=[--F]f--[--F]f--[--F]f--[--F]f--[--F]f--[--F]f,_a=30,_l=160,_m=1.732,f=/[-(2)F]+f--[--]f[----(2)F]+*,_n=4","=Sierpinski3,S=YF,X=YF+XF+Y,Y=XF-YF-X,_a=60,_n=5","=sierpin,S=--X,F=FF,X=++FXF++FXF++FXF,_a=60,_n=5","=CircularTile,S=X+X+X+X+X+X+X+X+X+X+X+X+X+X+X+X+X+X+X+X+X+X+X+X,X=[F+F+F+F[---X-Y]+++++F++++++++F-F-F-F],Y=[F+F+F+F[---Y]+++++F++++++++F-F-F-F],_a=15,_n=3","S=+FFFFF,_n=1","=ColorTriangGasket,S=--X,F=FF,X=++FXF++FXF++FXF>1,_a=60,_n=4","=curve3,S=F-F-F-F-,F=FF-F+F-F-FF,_a=90,_l=6,_n=4","=curve4,S=F-F-F-F-,F=FF-F-F-F-F-F+F,_a=90,_l=6,_n=4","=Cesaro,S=F^F^F^F^,F=+!F!--!F!+,_a=42,_n=5","=Cesa,S=XY|XY,A=-F++F-,X=XYA^XY|XY,Y=A^XY,_a=30,_l=6,_n=4","=Fass1,S=L,L=LF+RFR+FL-F-LFLFL-FRFR+,R=-LFLF+RFRFR+F+RF-LFL-FR,_a=90,_l=6,_n=4","=fibonacci,S=X,X=F[+X]-FX,_a=90,_l=6,_n=10","=FlowSnake,S=FL,F=,L=FL-FR--FR+FL++FLFL+FR-,R=+FL-FRFR--FR-FL++FL+FR,_a=60,_n=3","=Pentigree,S=F-F-F-F-F,F=F-F++F+F-F-F,_a=72,_n=5","=Lace2,S=w,_a=30,_l=4,w=+++x--F--zFx+,x=---w++F++yFw-,y=+zFx--F--z+++,z=-yFw++F++y---,_n=6","=Island1,S=F+F+F+F,F=FFFF-F+F+F-F[-fFF+F+FF+F]FF,_a=90,_m=6,f=*f/,_n=2","=Island2,S=F+F+F+F,F=F+gF-FF-F-FF+g+FF-gF+FF+F+FF-g-FFF,_a=90,_m=6,g=*f/,_n=3","=ize2,S=XY++XY,X=XYF+XY++XY,Y=F+XY,_a=90,_l=6,_n=5","=ize3,S=F----F----F,F=[-F]+F--F+,_a=30,_l=6,_n=7","=Demon,S=FS+,F=SF-,_a=45,_l=4,_n=12","=Dragon,S=+FX,F=,X=-FX++FY-,Y=+FX--FY+,_a=45,_n=10","=DragonCurve,S=X,X=X-YF-,Y=+FX+Y,_a=90,_n=8","=Dragonka,S=F,F=F+F-F,_a=120,_l=22,_n=8","=Dragonka2,S=/[F+S]|F+S,F=f,_a=30,_l=234,_m=1.4142,_n=10","=XmasColor,S=FU--1FP++++1FQ--,F=,P=--FR++++1FS--1FU,Q=FT++1FR----1FS++,R=++FP----1FQ++1FT,X=P,T=+FU--1FP+,U=-FQ++1FT-,_a=36,_n=7","=Peano1,S=FXY++F++FXY++F,X=XY*-F/-FXY++F++FXY,Y=-*F-/FXY,_a=45,_m=1.41,_n=4","=Peano2,S=X,X=XFYFX+F+YFXFY-F-XFYFX,Y=YFXFY-F-XFYFX+F+YFXFY,_a=90,_n=4","=Pentagram,S=FX++FX++FX++FX++FX,X=[++++/F/F!X!*F],_a=36,_l=222,_m=1.6180339887498948,_n=5","=PentaPlexy,S=F++F++F++F++F,F=F++F++F+++++F-F++F,_a=36,_n=3","=Sierpinski1,S=F-F-F,F=F[-F]F,_a=120,_n=4","=Sierpinski2,S=X,F=FF,X=++FXF++FXF++FXF,_a=60,_n=6","=Sierpinski4,S=F,F=FXF,X=+FXF-FXF-FXF+,_a=120,_n=5","=Sierpinski5,S=FXF--FF--FF,F=FF,X=--FXF++FXF++FXF--,_a=60,_n=3","=sierpinskiSquare1,S=F+F+F+F,F=FF+F+F+F+FF,_a=90,_n=4","=sierpinskiSquare3,S=A,A=AfAfA-f+A-f+A|f|A|f|A+f-AfF-F-F-Ff+f|,F=FFF,_a=90,f=fff,_n=4","=sierpinskiSquare2,S=A,A=AFAFAF-FAFAF-FAFAF-FAFF-,F=fff,_a=90,f=fff,_n=5","=SnowFlake1,S=FR,F=,R=++!FRFU++FU++FU!---*FU|-/!FRFU!,U=!FRFU!|+*FR/+++!FR--FR--FRFU!--,_a=30,_m=1.732,_n=5","=Snowflake2!,S=F,F=++!F!F--F--F/|+F!F--F--F!+++*F/|+F!F*|+F!F,_a=30,_l=60,_m=1.732,_n=4","=SnowFlake3,S=Fx,F=,_a=30,_m=1.732,x=++F!x!Fy--Fx--Fy|+/FyF!x!++F!y!++F!y!Fx*+++F!y!Fx,y=FyF!x!+++/FyF!x!++F!x!++F!y!Fx*|+Fx--Fy--FxF!y!++,_n=4","=Sphinx2,S=+++X,F=ff,X=+FF-YFF+FF--FFF+++X+++F--YFFFYFFF+++,Y=-FF+XFF-FF++FFF+++Y+++F++XFFFXFFF+++,_a=60,_l=6,f=ff,_n=4","=SpiralOrNotTile,S=X++X++X++X++|G|X++X++X++X,X=[FX+++++*F/[-----Y]+++++F],Y=[F+++++*F/[-----Y]+++++F],_a=22.5,_m=0.7653668647,_n=6","=SquareGasket,S=X,F=FF,X=+FXF+FXF+FXF+FXF,_a=90,_n=4","=Peano3,S=F-F-F-F,F=F-F+F+F+F-F-F-F+F,_a=88,_n=3","=Notsupported(*)Vlinders6,S=F-[(0.5)-F]F-[(0.5)-F]F-[(0.5)-F]F-[(0.5)-F]F-[(0.5)-F]F--(0.5)F^/f(2)-S,_a=60,_l=160,_m=1.73205080756887729352744,_n=7","=Vlinders(q3)is*sqrt(3)),S=F-[/-F]F-[/-F]F-[/-F]F-[/-F]F-[/-F]F--/F^(q3)/f*-S,_a=60,_l=160,_m=2,_n=7","=plant04,S=F,F=FF-[-F+F+F]+[+F-F-F],_a=22.5,_n=4","S=f+f-fSF+FSF,_n=4","=hex,S=F,F=-F+F+[+F+F]-,_a=60,_n=5","=strq,S=FS+Sf+fS++SSFf,_n=4","=abc,S=[F+fff+[f,f=F,F=S!Sf+],_n=8,_z=9,_l=3"];var ht=new MessageChannel;function lt(){return new Promise(t=>{ht.port1.onmessage=()=>(ht.port1.onmessage=null,t()),ht.port2.postMessage(null)})}function Et(t,e,n=console){typeof e=="function"&&(n.oldLog??=n.log,n.customLog=e),n.oldLog&&n.customLog&&(n.log=t?n.customLog:n.oldLog)}async function Yt(t,e,n,a){let i;try{let r;return t&&(t.abortController?.abort(),t.abortController=i=new AbortController,e(0),await lt(),r=async d=>{if(i.signal.aborted)return t.interrupted;e(d),await lt()}),await n(a,void 0,r)}catch(r){t&&e(r.message||strings.error)}finally{t&&t.abortController===i&&(t.abortController=null)}}function L(t){return Object.fromEntries(t.replace(/[\n\r&]+/g,",").replace(/(^[?#{}]|[}]$|[\r \t\s\u00A0]+)/g,"").split(",").filter(e=>e!=="").map(e=>e.split(/[=:]/)).map(e=>{if(e.length!=2)throw new Error(x.shorthelp);return e}).map(e=>e.map(n=>n.replace(/(^["']|["']$)/g,""))).map(([e,n])=>{if(!/^(|[^"']|_[^"']+|[^"']2)$/.test(e)&&/[^"']*/.test(n))throw new Error(x.shorthelp);return[e,n]}))}function $t(t,e){return{...t,...L(e)}}function Mt(t,e){return{...L(t),...e}}function q(t,e){typeof t=="string"&&(t=L(t));let n=i=>i.replace(/^S/," S").replace(/^_w/,"_y2").replace(/^_h/,"_y3").replace(/^_/,"zz"),a=(i,r)=>i.length-r.length||n(i).localeCompare(n(r));return Object.keys(t=typeof t=="string"?L(t):t).sort(a).map(i=>e?`<p>${i}=${t[i]}</p>`:`${i}=${t[i]}`).join(e?"":",")}function Tt(t,e=""){t.tabIndex=0;let n=6,a=!1,i=!1,r,d,p=null,y,c,b=null,E=0,m=0,W=0;(s=>document.getElementById(s)||((l=document.head.appendChild(Object.assign(document.createElement("style"),{id:s})).sheet)=>(l.insertRule(`${e} svg { cursor: grab; user-select: none; touch-action: none; }`),l.insertRule(`${e} svg.panning { cursor: grabbing; }`))()))("fixedRandomId9ghLisp4TWg");let g=s=>{let l=s.touches?s.touches[0]:s;return{x:l.clientX,y:l.clientY}},f=()=>t.getAttribute("viewBox").split(/\s+/).map(parseFloat),Y=()=>t.getBoundingClientRect(),N=s=>{if(s.button&&s.button!==0)return;let l=g(s);r=l.x,d=l.y,p=f(),a=!0,i=!1,t.classList.add("panning")},tt=s=>{if(!a&&!i)return;s.preventDefault();let l=g(s),u=Y();if(a){let h=p,X=Math.min(u.width/h[2],u.height/h[3]),M=(l.x-r)/X,C=(l.y-d)/X;t.setAttribute("viewBox",`${h[0]-M} ${h[1]-C} ${h[2]} ${h[3]}`);return}if(i){let h=(l.y-c)/parseFloat(getComputedStyle(document.documentElement).fontSize),X=b,M=X[0]+X[2]*(y-u.left)/u.width,C=X[1]+X[3]*(c-u.top)/u.height,v;h>=0?v=1+h/n:v=Math.pow(2,h/n),v=Math.max(.02,Math.min(100,v));let F=X[2]/v,w=X[3]/v,H=M-(M-X[0])/v,O=C-(C-X[1])/v;t.setAttribute("viewBox",`${H} ${O} ${F} ${w}`)}},U=()=>{a=!1,i=!1,t.classList.remove("panning")},K=(s,l,u)=>{let h=f(),X=h[2]/u,M=h[3]/u,C=s-(s-h[0])/u,v=l-(l-h[1])/u;t.setAttribute("viewBox",`${C} ${v} ${X} ${M}`)};t.addEventListener("wheel",s=>{s.preventDefault();let l=Y(),u=f(),h=s.clientX-l.left,X=s.clientY-l.top,M=u[0]+u[2]*h/l.width,C=u[1]+u[3]*X/l.height,v=s.deltaY<0?1.3:1/1.3;K(M,C,v)},{passive:!1});let $=s=>{if(s.touches&&s.touches.length>1)return;let l=Date.now(),u=g(s);if(l-E<450&&Math.hypot(u.x-m,u.y-W)<40){s.preventDefault(),y=u.x,c=u.y,b=f(),i=!0;return}E=l,m=u.x,W=u.y};return t.addEventListener("dblclick",s=>{s.preventDefault();let l=Y(),u=f(),h=u[0]+u[2]*(s.clientX-l.left)/l.width,X=u[1]+u[3]*(s.clientY-l.top)/l.height;K(h,X,2)}),t.addEventListener("keydown",s=>{if(s.key==="+"||s.key==="="||s.key==="-"){s.preventDefault();let l=f(),u=s.key==="-"?1/1.3:1.3;K(l[0]+l[2]/2,l[1]+l[3]/2,u)}}),t.addEventListener("mousedown",N),t.addEventListener("touchstart",s=>{s.touches.length===1&&($(s),i||N(s))},{passive:!1}),t.addEventListener("mousemove",tt),t.addEventListener("touchmove",tt,{passive:!1}),t.addEventListener("mouseup",U),t.addEventListener("mouseleave",U),t.addEventListener("touchend",U),t.addEventListener("touchcancel",U),t.addEventListener("mousemove",s=>{let l=Y(),u=f(),h=u[0]+u[2]*(s.clientX-l.left)/l.width,X=u[1]+u[3]*(s.clientY-l.top)/l.height}),t}async function Ct(t,e){let a=new XMLSerializer().serializeToString(t),i=new TextEncoder().encode(a),r=new Blob([i],{type:"image/svg+xml"}),d=`${t.querySelector("title")?.textContent??x.untitled}.svg`;await Vt(r,d)}async function Dt(t,e){let[n,a,i,r]=t.getAttribute("viewBox").split(" ").map(parseFloat);if(!t||e===null)return;e=Number(e)||3840,[i,r]=i<r?[Math.ceil(e*i/r),e]:[e,Math.ceil(e*r/i)];let d=new Image,p=document.createElement("canvas"),y=p.getContext("2d");d.src="data:image/svg+xml;base64,"+btoa(new XMLSerializer().serializeToString(t)),await new Promise(E=>d.onload=E),y.drawImage(d,0,0,p.width=i,p.height=r),y.getImageData(0,0,1,1);let c=await new Promise((E,m)=>p.toBlob(W=>W?E(W):m(new Error(x.error)),"image/png")),b=`${t.querySelector("title")?.textContent??x.untitled}.png`;return await Vt(c,b),{w:i,h:r,s:c.size,filename:b}}async function Vt(t,e){let n;try{n=URL.createObjectURL(t);let a=document.createElement("a");a.href=n,a.download=e,document.body.append(a),a.click(),document.body.removeChild(a)}catch(a){message(a.message)}finally{setTimeout(()=>URL.revokeObjectURL(n),100)}}var J,qt="--max-mobile",It="mobile-view",zt=()=>document.body.classList.toggle(It,J.matches),ct;function Pt(t){ct=t;let e=getComputedStyle(document.documentElement).getPropertyValue(qt).trim();J=window.matchMedia(`(max-width: ${e})`),J.addEventListener("change",zt),zt(),ct&&J.addEventListener("change",ct)&&ct(J)}function Xt(){return J.matches}function Wt(){return/Mobi|Android|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)}function k(){return o.textarea.innerText}function Nt(){ue(),location.href=location.origin+location.pathname}function bt(){_.abortController?_.abortController.abort():z(void 0,1)}function I(t){o.textarea.innerHTML=q(t,1)}function ut(){return o.bigsvg.children[0]}function Q(){return o.buttondot.hasAttribute("data-checked")}function Kt(t){o.buttondot.toggleAttribute("data-checked",t)}function Ot(t,e=location.href.split(/[?#]/)[1]){return e&&(z(decodeURIComponent(e),1),1)}function nt(t){[...o.right.children].forEach(e=>e.classList.toggle("hidden",t!==e))}function Gt(t){navigator.clipboard.writeText(t),console.log(x.copied)}async function B(t,e=0,n=""){clearTimeout(_.timer),o.buttonminilog.textContent=n;let a=async()=>nt(Object.assign(o.message,{innerText:t}));e?_.timer=setTimeout(a,e):await a()}async function jt(t,e){return Yt(e?_:void 0,e?i=>B("Processing...",0,(i/1e6).toFixed(1)+" M"):void 0,mt,t)}function St(t,e){let n=typeof t=="string"?L(t):t,a=e?Bt():{},i=Q()?{_k:n._k??1,_o:n._o??0}:{},r=o.buttontpbg.hasAttribute("data-checked")?{_cb:n._cb??"#0000"}:{};return{...n,...a,...i,...r}}async function z(t,e){try{t?(t=typeof t=="string"?L(t):t,e&&I(t)):t=L(k());let n=St(t);o.buttonsubmit.toggleAttribute("data-checked",1);let a=await jt(n,!0);clearTimeout(_.timer),o.buttonsubmit.toggleAttribute("data-checked",0);let i=a.querySelector("title")?.textContent;if(!a)return;!i?.startsWith(_.interrupted)&&t!==""?xt("R",t):console.log(i);try{let r=JSON.parse(a.querySelector("desc").textContent).stat;console.log(Object.entries(r).map(([p,y])=>y+" "+p).join(" "));let d=r.ms<1e3?~~r.ms+" ms":(r.ms/1e3).toPrecision(2)+" s";o.buttonminilog.innerHTML=r.err?r.err+" error<br>":""+d}catch{}o.bigsvg.replaceChildren(a),Tt(a,"#bigsvg"),nt(o.bigsvg)}catch(n){B(n.message,0,x.error)}}async function Zt(){try{let t=ut();if(!t)return B(x.nothingToExport);let e=parseInt(prompt(x.pngPrompt,x.pngDefaultSize));if(isNaN(e)||e<1||e>65536)return;let{w:n,h:a,s:i,filename:r}=await Dt(t,e);console.log(`saved: ${n}x${a} ${i} bytes ${r}`)}catch(t){B(t.message)}}function yt(t=L(k()),e="#",n){if(!ut())return B(x.nothingToExport);let i=q(St(t,1));if(!i)return B(x.nothingToExport);let r=i.replace(/&/g,"%26").replace(/\?/g,"%3F").replace(/#/g,"%23");Object.assign(document.createElement("a"),{target:"_blank",href:n?`${location.origin+location.pathname}${e}${r}`:`${x.lsystemsvg}${e}${r}`}).click()}function Jt(t){if(!ut())return B(x.nothingToExport);Gt(t?JSON.stringify(L(k())):q(k()))}function Qt(){let t=ut();if(!t)return B(x.nothingToExport);t.removeAttribute("tabindex"),Ct(t)}function te(t,e=L(k())){z(I(Object.assign(e,{_n:Math.max(0,(t?-1:1)+ +(e._n??0))})))}function ee(t){let e=L(k()),n=+(e._a??0),a=[1,-1,.1,-.1][t];z(I(Object.assign(e,{_a:Math.max(0,a+n)})))}function A(t,e){let n=typeof t=="string"?document.querySelector(t):t,a=n.classList.contains("altclick")?"altclick":"click";if(a==="altclick"){let r=!1,d=null,p=0,y=0,c=(g,f)=>{let Y=g.type==="keydown"&&(g.key==="Enter"||g.key===" ");!f&&!Y&&g.type!=="click"||(Y&&g.preventDefault(),e(g.ctrlKey*2+(f||g.shiftKey)))},b=g=>{r&&(r=!1,g.stopPropagation(),g.preventDefault())},E=g=>{if(g.button&&g.button!==0)return;r=!1,n.classList.add("long-tap-progress");try{n.focus&&n.focus({preventScroll:!0})}catch{n.focus&&n.focus()}let f=g.touches?g.touches[0]||g.changedTouches[0]:g;p=f.pageX,y=f.pageY,d=setTimeout(()=>{r=!0,c(g,1),n.classList.remove("long-tap-progress")},200)},m=()=>{d&&(clearTimeout(d),d=null),n.classList.remove("long-tap-progress")},W=g=>{if(!d)return;let f=g.touches?g.touches[0]||g.changedTouches[0]:g,Y=f.pageX-p,N=f.pageY-y;Math.hypot(Y,N)>10&&m()};n.addEventListener("click",b,{capture:!0,passive:!1}),n.addEventListener("click",c,{passive:!0}),n.addEventListener("keydown",c,{passive:!1}),n.addEventListener("pointerdown",E,{passive:!1}),n.addEventListener("pointerup",m,{passive:!0}),n.addEventListener("pointermove",W,{passive:!0}),n.addEventListener("pointercancel",m,{passive:!0}),n.addEventListener("pointerleave",m,{passive:!0})}else n.addEventListener(a,e,{passive:!0})}function Bt(t=0){let e=o.bigsvg.querySelector("svg");if(!e)return{};let n=e.getAttribute("viewBox")?.split(" ")||[];return n.length&&(t||["x","y","width","height"].map(a=>e.querySelector("rect")?.getAttribute(a)).join(" ")!==n.join(" "))?{_x:n[0],_y:n[1],_w:n[2],_h:n[3]}:{}}function Ut(t=_.eg.i,e=_.eg.a.length){t=_.eg.i=(t+e)%e,z(_.eg.a[t],1),console.log(`[example: ${t+1} / ${e}]`)}function ne(t){I(t?$t((e=>(mt(e),e))({}),k()):Mt(k(),Bt(1)))}function oe(t){t=(_.eg.i+(t?-1:1))%_.eg.a.length,t=(t+_.eg.a.length)%_.eg.a.length,Ut(t)}async function dt(){I(""),o.smallsvgs.replaceChildren(),nt(o.smallsvgs);let t=performance.now(),e=c=>({...c,_n:Math.max(2,parseInt(c._n)-1,1),_k:c._k?c._k:Q()?1:"",_o:c._o?c._o:Q()?0:"",_cb:c._cb?c._cb:o.buttontpbg.hasAttribute("data-checked")?"#0000":""}),n=c=>(c.el.addEventListener("click",b=>b.ctrlKey?yt(_.eg.a[c.i]):Ut(c.i)),c.el),a=async(c,b)=>({el:await jt(St(e(c))),i:b});_.eg.a.forEach(async(c,b)=>o.smallsvgs.append(await n(await a(c,b)))),await lt();let i,r,d,p,y=(performance.now()-t).toFixed(0);try{i=[...o.smallsvgs.querySelectorAll("svg")].map(c=>JSON.parse(c.querySelector("desc").textContent).stat.ms),r=i.reduce((c,b)=>c+parseFloat(b),0)|0,d=Math.max(...i),p=i.indexOf(d)}catch{}console.log(`[${_.eg.a.length} examples ${y}ms ?${y-r}ms ${d}@${p+1}]`)}function ie(){let t=o.buttontpbg.toggleAttribute("data-checked");if(o.right.classList.toggle("tpbg",t),!k())return dt();let e=L(k());t?e._cb="#0000":delete e._cb,I(e),z()}function ae(){Kt(!Q()),k()?z({...L(k()),_k:Q()?1:0,_o:Q()?0:""},1):dt()}function re(t){if(!k())return dt();if(t){let e=L(k());if(!e)return;I({...e,_hand:+e._hand==1?"":1}),z()}else{let e=document.body.classList.toggle("cursive");document.body.classList.toggle("cursive",e),o.buttoncursive.toggleAttribute("data-checked",e)}}function Ht(t=o.buttonexport.getAttribute("data-checked")===null,e){o.buttonexport.toggleAttribute("data-checked",t),document.querySelectorAll(".export").forEach(n=>n.classList.toggle("hidden",!t)),e||xt("export")}function Rt(t=o.buttonminilog.getAttribute("data-checked")===null,e){o.buttonminilog.toggleAttribute("data-checked",t),o.buttonlog.classList.toggle("hidden",!t),e||xt("minilog")}function se(){Et(!0,(...t)=>{o.buttonlog?o.buttonlog.replaceChildren(t.flatMap(e=>e&&typeof e=="object"?Object.entries(e):[["",e]]).map(([e,n])=>`${e}${e&&" "}${String(n).replace(/-/g,"\u2011").replace(/Infinity/g,"-")}`).join(`
`),document.createElement("br"),...[...o.buttonlog.childNodes].slice(0,19)):console.oldLog(...t)})}function Fe(){let t={isResizing:!1,startX:0,startY:0,startWidth:0,startHeight:0},e=i=>{i.target===o.divider&&(i.preventDefault(),t.isResizing=!0,t.startX=i.clientX,t.startY=i.clientY,t.startWidth=o.left.offsetWidth,t.startHeight=o.left.offsetHeight,document.addEventListener("pointermove",n,{passive:!1}),document.addEventListener("pointerup",a,{passive:!1}),document.addEventListener("pointercancel",a,{passive:!1}),o.divider.style.transition="none")},n=i=>{if(!t.isResizing)return;i.preventDefault();let r=50;if(Xt()){let d=t.startHeight+i.clientY-t.startY,p=parseFloat(getComputedStyle(o.textarea,null).getPropertyValue("min-height")),y=o.buttons.offsetHeight,c=o.divider.offsetHeight,b=Math.min(Math.max(d,y+p+c),window.innerHeight-r);o.left.style.width="",o.left.style.height=`${b}px`}else{let d=t.startWidth+i.clientX-t.startX,p=Math.min(Math.max(d,r),window.innerWidth-r);o.left.style.width=`${p}px`,o.left.style.height=""}},a=i=>{t.isResizing&&(t.isResizing=!1,document.removeEventListener("pointermove",n),document.removeEventListener("pointerup",a),document.removeEventListener("pointercancel",a),o.divider.style.transition="")};o.divider.addEventListener("pointerdown",e,{passive:!1}),o.divider.style.touchAction="none"}function le(){if(!Wt())return;let t=()=>{document.body.classList.contains("keyboard-active")&&window.visualViewport?o.right.style.height=`${window.visualViewport.height}px`:o.right.style.height="auto"};o.textarea.addEventListener("focus",()=>{document.body.classList.add("keyboard-active"),t()}),o.textarea.addEventListener("blur",()=>{document.body.classList.remove("keyboard-active"),o.right.style.height="auto",o.left.style.background="transparent"}),window.visualViewport&&window.visualViewport.addEventListener("resize",()=>{Math.abs(window.visualViewport.height-_.lastViewportHeight)>50&&(document.body.classList.toggle("keyboard-active",window.visualViewport.height<_.lastViewportHeight),t(),_.lastViewportHeight=window.visualViewport.height)})}function ce(){window.addEventListener("hashchange",Ot),document.addEventListener("keydown",t=>t.key==="Shift"&&document.body.classList.add("shift-pressed")),document.addEventListener("keyup",t=>t.key==="Shift"&&document.body.classList.remove("shift-pressed")),o.textarea.addEventListener("keydown",t=>t.ctrlKey&&t.key==="Enter"&&bt()),o.textarea.addEventListener("input",()=>z()),o.textarea.addEventListener("blur",()=>o.textarea.textContent===""&&(o.textarea.textContent="")),o.buttontxtclose?.addEventListener("click",()=>(o.textarea.focus(),o.textarea.blur())),o.textarea.addEventListener("paste",t=>{t.preventDefault();let e=t.clipboardData.getData("text/plain");document.execCommand("insertText",!1,e),bt()}),o.textarea.addEventListener("keydown",t=>t.ctrlKey&&t.key==="c"&&!window.getSelection().toString().length&&(t.preventDefault(),navigator.clipboard.writeText(q(k())),console.log(x.copied))),A(o.buttonsubmit,bt),A(o.buttonnpp,te),A(o.buttoncursive,re),A(o.buttondot,ae),A(o.buttontpbg,ie),A(o.buttonnexteg,oe),A(o.buttondefs,ne),A(o.buttonalleg,()=>dt()),A(o.buttonpng,()=>Zt()),A(o.buttonjs,()=>yt()),A(o.buttonsvg,()=>Qt()),A(o.buttonline,Jt),A(o.buttonurleditor,()=>yt(void 0,"#",1)),A(o.buttonexport,()=>Ht()),A(o.buttonminilog,()=>Rt()),A(o.buttonangleinc,ee),A(o.buttonhelp,t=>t?Nt():nt(o.readme)),Pt(()=>o.left.style[Xt()?"width":"height"]="initial")}function ue(){["export","minilog","R"].forEach(t=>localStorage.removeItem(_.lspre+t))}function xt(t,e){function n(a,i){(!t||t===a)&&localStorage.setItem(_.lspre+a,i)}try{n("R",q(e||k()))}catch{return}n("export",o.buttonexport.getAttribute("data-checked")===null),n("minilog",o.buttonminilog.getAttribute("data-checked")===null)}async function de(){let t=0;function e(a,i=localStorage.getItem(_.lspre+a)){return i===null||t++,i}Ht(e("export")==="false",1),Rt(e("minilog")==="false",1);let n=e("R");return Ot()||n&&n!==""&&n!=="{}"&&z(n,1),t}function fe(){let t=(n,a=0)=>{try{o.readme.innerHTML=marked.parse(n)}catch{a<5e4&&typeof marked>"u"&&setTimeout(()=>t(n,a*1.9+50),a),a||(o.readme.innerText=n)}},e=()=>Object.assign(document.createElement("iframe"),{type:"text/plain",src:o.readme.getAttribute("data-src"),frameBorder:0});fetch(o.readme.getAttribute("data-src")).then(n=>n.text()).then(t).catch(n=>o.readme.append(e()))}function pe(){Object.assign(o,Object.fromEntries([...document.querySelectorAll("[id]")].map(t=>[t.id,t]))),Object.assign(_,{interrupted:"interrupted-",eg:{i:0,a:(typeof _t<"u"?_t:["S=f+f-fSF+FSF,_n=4"]).map(t=>L(typeof t=="string"?t:q(t))).filter(t=>t)},divider:{active:null,startX:0,startY:0,startWidth:0,startHeight:0},lastViewportHeight:window.visualViewport?window.visualViewport.height:window.innerHeight,lspre:"lsystem_"}),o.textarea.dataset.placeholder=x.placeholder}async function ge(){pe(),se(),fe(),Fe(),le(),ce(),await de()||nt(o.readme),o.textarea.setAttribute("contenteditable",!0),console.log(location.host||location.origin)}var o={},_={};document.addEventListener("DOMContentLoaded",ge);})();</script>
  <style>.cursive object,.cursive svg,.cursive img,.cursive #buttoncursive{filter:url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg"><filter id="waves" x="-50%" y="-50%" width="200%" height="200%" filterUnits="objectBoundingBox" primitiveUnits="userSpaceOnUse" color-interpolation-filters="linearRGB"><feTurbulence type="turbulence" baseFrequency="0.03 0.03" numOctaves="3" seed="1" stitchTiles="noStitch" result="turbulence"/><feDisplacementMap in="SourceGraphic" in2="turbulence" scale="6" xChannelSelector="G" yChannelSelector="A" result="displacementMap"/><feGaussianBlur stdDeviation=".15"/></filter></svg>#waves')}:root{--max-mobile: 45rem;--o: #000;--oa: #000a;--d: #777;--e: #eee;--f: #fff;--fd: #fffd;--err: #d22;--tp: #fff7;--font: system-ui, Arial, Helvetica, sans-serif;height:100%}@media(prefers-color-scheme:dark){:root,iframe,object.darkable{filter:hue-rotate(180deg) invert()}}body{display:flex;flex-direction:row;background-color:var(--f);margin:0;height:100%;font-family:var(--font)}#left{background-color:var(--tp);box-sizing:border-box;display:flex;flex-direction:column;width:24rem;max-width:90vw;min-width:3rem;position:relative;z-index:1;height:auto}.tpbg{background-image:repeating-linear-gradient(45deg,var(--f) 25%,transparent 25%,transparent 75%,var(--f) 75%,var(--f)),repeating-linear-gradient(45deg,var(--f) 25%,var(--e) 25%,var(--e) 75%,var(--f) 75%,var(--f));background-position:0 0,2rem 2rem;background-size:4rem 4rem}.buttons{display:grid;align-items:center;grid-template-columns:repeat(auto-fill,minmax(3.4rem,1fr));gap:.5rem;user-select:none;padding:.5rem}.buttons#export{padding-top:0}button{flex:1;color:var(--o);border-radius:.45rem;border:none;background-color:var(--e);padding:0;display:flex;align-items:center;justify-content:center;overflow:hidden}button.dropdown{position:relative}button.dropdown:after{content:"V";position:absolute;bottom:0;transform:scaleX(12);font-size:.3rem}button.dropdown[data-checked]:after{transform:rotate(180deg) scaleX(12);bottom:.1rem}button:not(:empty):not([disabled]){cursor:pointer}button>svg,button>object{pointer-events:none}button,button>svg,button>object{height:2.5rem}button:not(:empty):hover{filter:brightness(80%) contrast(150%)}.shift-pressed button.altclick>.a,button>.b{opacity:.2}.checked1{display:block;position:absolute;opacity:0}.checked0{display:block;position:absolute;opacity:1}[data-checked] .checked1{opacity:1}[data-checked] .checked0{opacity:0}.shift-pressed button.altclick>.b,button>.a{display:block;opacity:1;position:absolute}[data-checked]{color:var(--d)}hr{border:none;border-top:.2rem solid var(--d);max-width:9rem;margin:.2rem .5rem 0}#buttonlog{grid-column:1 / -1;transition:height .1s ease;overflow:auto;user-select:text;align-items:flex-start;justify-content:flex-start;text-align:left;display:flex;flex-direction:column}#buttonlog:focus{max-height:12rem;min-height:2.5rem;height:fit-content}#textarea{width:100%;height:100%;min-height:4rem;max-width:100%;padding:0 .7rem;box-sizing:border-box;font-family:monospace;font-size:1rem;white-space:pre-wrap;overflow:auto;border:none;word-break:break-all;line-height:1}#textarea>p{text-indent:-2.2ch;padding-left:2.2ch;margin:.2rem 0;letter-spacing:.1ch}@-moz-document url-prefix(){#textarea>p:first-letter{font-weight:900;font-size:1.2rem}}#divider{width:0;height:100%;max-width:0;margin:auto 0;padding:.25rem;touch-action:none;user-select:none;z-index:9;background-color:var(--tp)}#divider:hover{cursor:ew-resize;background-color:var(--e)}body.mobile-view>#divider{width:20%;max-width:initial;max-height:0;margin:0 auto;box-sizing:border-box;background-color:var(--e);border:.3rem solid var(--f)}body.mobile-view>#divider:hover{cursor:ns-resize}#right{display:flex;flex-direction:column;flex:1;overflow:auto;z-index:0;min-width:0;min-height:0}#readme{display:flex;flex-direction:column;flex:1;min-height:0;overflow:auto;width:100%}#bigsvg{height:100vh}#bigsvg>svg:focus{outline:none}#smallsvgs{display:grid;grid-template-columns:repeat(auto-fit,minmax(max(8rem,15%),1fr));height:auto}#smallsvgs>*{display:flex;overflow:hidden;aspect-ratio:1;cursor:pointer}#right svg{display:block;object-fit:contain;width:100%;height:100%}div[contenteditable=true]:empty:not(:focus):before{display:block;font-family:var(--font);content:attr(data-placeholder);color:var(--oa);word-break:normal}.long-tap-progress{background:linear-gradient(180deg,var(--oa) 50%,var(--e) 50%);background-size:400% 400%;animation:slide .5s linear forwards}@keyframes slide{to{background-position:0 100%}}.hidden{display:none!important}#buttontxtclose{position:absolute;top:.5rem;right:.5rem;width:1.5rem;height:1.5rem;display:none;z-index:4}body.keyboard-active #buttontxtclose{display:block}pre,code{background-color:var(--e);border-radius:.3125rem;font-size:1rem;padding:0 .3rem;margin-block:initial}@media only screen and (max-width:45rem){body{flex-direction:column}#left{max-width:100%;width:100%}.buttons{padding:.2rem;grid-template-columns:repeat(auto-fill,minmax(3.7rem,1fr));gap:.2rem}#textarea{padding:.2rem;min-height:30%;min-width:9rem}body.keyboard-active #textarea{max-height:initial;width:fit-content;height:fit-content}#right{height:auto;min-height:30%}#smallsvgs{grid-template-columns:repeat(auto-fit,minmax(max(4rem,15%),1fr))}body.keyboard-active .buttons,body.keyboard-active #buttonlog{display:none}body.keyboard-active #left{position:absolute;top:0;left:0;width:100%;height:100%;z-index:2}body.keyboard-active #textarea{background:var(--fd);position:relative;z-index:3}body.keyboard-active #right{position:absolute;top:0;left:0;width:100%;height:100%;z-index:1}}@media only screen and (min-width:45.001rem){#buttontxtclose{display:none!important}}</style>
</head>

<body>
  <div id="left">
    <div id="buttons" class="buttons">
      <button id="buttonhelp" title="Help / Shift: Clears localstorage and reloads without urlparams" class="altclick">
        <div class="a">&nbsp;<br><b>?a</b></div>
        <div class="b">reset<br>&nbsp;</div>
      </button>
      <button id="buttonsubmit" title="Update (Ctrl+Enter)">
        <svg class="checked0" tabindex="-1" xmlns="http://www.w3.org/2000/svg" viewBox="-3 -3 9.464 10"><path fill="none" stroke="#000f" stroke-linecap="round" stroke-linejoin="round" d="m0 0 3.464 2L0 4V0"/>Update</svg>
        <!--object class="checked0" tabindex="-1" type="image/svg+xml" data="lsystem.svg#S=+F++++F++++F,_a=30,_l=4,_cc=%23000f,_cb=%230000,_z=3">Update</object-->
        <object class="checked1" tabindex="-1" type="image/svg+xml" data="lsystem.svg#S=F+F+F+F,_a=90,_l=4,_cc=%23000f,_cb=%230000,_z=3">Stop</object>
      </button>
      <button id="buttontpbg" title="Highlights transparency">checked bg</button>
      <button id="buttondot" title="Show endpoints only">
        <object class="checked0" tabindex="-1" type="image/svg+xml" data="lsystem.svg#S=++++++F++++F,_a=20,_cc=%23000f,_cb=%230000,_l=8,_z=6">Line</object>
        <object class="checked1" tabindex="-1" type="image/svg+xml" data="lsystem.svg#S=++++++F++++F,_a=20,_0=0,_cb=%230000,_l=8,_z=6,_k=2">Dots</object>
      </button>
      <button id="buttonalleg" title="Show all examples">all examples</button>
      <button id="buttonnexteg" class="altclick" title="Shift: prev. example">
        <div class="a">&nbsp;<br>next e.g.</div>
        <div class="b">prev e.g.<br>&nbsp;</div>
      </button>
      <button id="buttonnpp" class="altclick" title="Shift: decrease CAREFUL!">
        <div class="a">&nbsp;<br>n++</div>
        <div class="b">n--<br>&nbsp;</div>
      </button>
      <button id="buttonangleinc" class="altclick" title="Angle inc/dec">
        <div class="a">&nbsp;<br>a++</div>
        <div class="b">a--<br>&nbsp;</div>
      </button>
      <button id="buttondefs" class="altclick" title="Shift: put defaults; put viewbox Into textarea">
        <div class="a">&nbsp;<br>viewBox</div>
        <div class="b">defs<br>&nbsp;</div>
      </button>
      <button id="buttoncursive" class="altclick" title="Shift: alternative; experiment, adds turbulence into svg or whole page">
        <div class="a">&nbsp;<br>_hand</div>
        <div class="b">shake<br>&nbsp;</div>
      </button>
      <button id="buttonminilog" class="dropdown" data-checked title="Log">log</button>
      <button id="buttonexport" class="dropdown" title="Show available exports">export</button>
      <button id="buttonreserved2" class="export hidden" title="buttonreserved2">
      </button>
      <button id="buttonjs" class="export hidden" title="Link to small, parametrizable svg">
        <div class="a">url<br>svg</div>
        <svg class="b" tabindex="-1" xmlns="http://www.w3.org/2000/svg" viewBox="-9.4 -7.057 12.457 12.457"><path fill="none" stroke="#000f" stroke-linecap="round" stroke-linejoin="round" d="M0 0v4h-8v-8h4m0 4 2.828-2.828 2.829-2.829v4m0-4h-4"/>url</svg>
        <!--object class="b" tabindex="-1" type="image/svg+xml" data="lsystem.svg#S=++F++FF++FF++F++f---FF[+++F]---F,_a=45,_l=4,_z=1.4,_cb=%230000,_cc=%23000f">url</object-->
      </button>
      <button id="buttonurleditor" class="export hidden" title="Link to this editor with url parameters">
        <div class="a">url<br>editor</div>
        <object class="b" tabindex="-1" type="image/svg+xml" data="lsystem.svg#S=++F++FF++FF++F++f---FF[+++F]---F,_a=45,_l=4,_z=1.4,_cb=%230000,_cc=%23000f">url</object>
      </button>
      <button id="buttonsvg" class="export hidden" title="Download big, generated .svg">
        <div class="a">SVG<br>&nbsp;</div>
        <object class="b" tabindex="-1" type="image/svg+xml" data="lsystem.svg#S=[A]!----A,A=-FFFFF---FF++FFFFFF--FF,_a=45,_l=1,_n=2,_z=1.4,_cb=%230000,_cc=%23000f">svg</object>
      </button>
      <button id="buttonpng" class="export hidden" title="Download PNG">
        <div class="a">png<br>&nbsp;</div>
        <object class="b" tabindex="-1" type="image/svg+xml" data="lsystem.svg#S=[A]!----A,A=-FFFFF---FF++FFFFFF--FF,_a=45,_l=1,_n=2,_z=1.4,_cb=%230000,_cc=%23000f">svg</object>
      </button>
      <button id="buttonline" class="export hidden altclick" title="To clipboard - Shif: json - For multiline: ctrl+c without selection">
        <div class="a">&nbsp;<br>copy</div>
        <div class="b">json<br>&nbsp;</div>
      </button>
      <button tabindex="0" id="buttonlog" class="hidden" title="expand"></button>
    </div>
    <div id="textarea" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false"></div>
    <button id="buttontxtclose" class="close" title="Close keyboard" tabindex="-1">&times;</button>
  </div>
  <button id="divider" tabindex="-1" title="moveable divider"></button>
  <div id="right">
    <div id="message" class="hidden"></div>
    <div id="smallsvgs" class="hidden"></div>
    <div id="bigsvg" class="hidden"></div>
    <div id="readme" class="hidden" data-src="README.md"></div>
  </div>
</body>

</html>